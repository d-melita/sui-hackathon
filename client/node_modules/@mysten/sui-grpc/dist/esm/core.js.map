{
  "version": 3,
  "sources": ["../../src/core.ts"],
  "sourcesContent": ["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type {\n\tExperimental_CoreClientOptions,\n\tExperimental_SuiClientTypes,\n} from '@mysten/sui/experimental';\nimport { Experimental_CoreClient } from '@mysten/sui/experimental';\nimport type { SuiGrpcClient } from './client.js';\nimport type { Owner } from './proto/sui/rpc/v2beta2/owner.js';\nimport { Owner_OwnerKind } from './proto/sui/rpc/v2beta2/owner.js';\nimport { chunk, fromBase64, toBase64 } from '@mysten/utils';\nimport type { ExecutedTransaction } from './proto/sui/rpc/v2beta2/executed_transaction.js';\nimport type { TransactionEffects } from './proto/sui/rpc/v2beta2/effects.js';\nimport {\n\tChangedObject_IdOperation,\n\tChangedObject_InputObjectState,\n\tChangedObject_OutputObjectState,\n\tUnchangedSharedObject_UnchangedSharedObjectKind,\n} from './proto/sui/rpc/v2beta2/effects.js';\nimport { TransactionDataBuilder } from '@mysten/sui/transactions';\nimport { bcs } from '@mysten/sui/bcs';\nexport interface GrpcCoreClientOptions extends Experimental_CoreClientOptions {\n\tclient: SuiGrpcClient;\n}\nexport class GrpcCoreClient extends Experimental_CoreClient {\n\t#client: SuiGrpcClient;\n\tconstructor({ client, ...options }: GrpcCoreClientOptions) {\n\t\tsuper(options);\n\t\tthis.#client = client;\n\t}\n\n\tasync getObjects(\n\t\toptions: Experimental_SuiClientTypes.GetObjectsOptions,\n\t): Promise<Experimental_SuiClientTypes.GetObjectsResponse> {\n\t\tconst batches = chunk(options.objectIds, 50);\n\t\tconst results: Experimental_SuiClientTypes.GetObjectsResponse['objects'] = [];\n\n\t\tfor (const batch of batches) {\n\t\t\tconst response = await this.#client.ledgerService.batchGetObjects({\n\t\t\t\trequests: batch.map((id) => ({ objectId: id })),\n\t\t\t\treadMask: {\n\t\t\t\t\tpaths: ['owner', 'object_type', 'bcs', 'digest', 'version', 'object_id'],\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tresults.push(\n\t\t\t\t...response.response.objects.map(\n\t\t\t\t\t(object): Experimental_SuiClientTypes.ObjectResponse | Error => {\n\t\t\t\t\t\tif (object.result.oneofKind === 'error') {\n\t\t\t\t\t\t\t// TODO: improve error handling\n\t\t\t\t\t\t\treturn new Error(object.result.error.message);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (object.result.oneofKind !== 'object') {\n\t\t\t\t\t\t\treturn new Error('Unexpected result type');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tid: object.result.object.objectId!,\n\t\t\t\t\t\t\tversion: object.result.object.version?.toString()!,\n\t\t\t\t\t\t\tdigest: object.result.object.digest!,\n\t\t\t\t\t\t\t// TODO: bcs content is not returned in all cases\n\t\t\t\t\t\t\tcontent: Promise.resolve(object.result.object.bcs?.value!),\n\t\t\t\t\t\t\towner: mapOwner(object.result.object.owner)!,\n\t\t\t\t\t\t\ttype: object.result.object.objectType!,\n\t\t\t\t\t\t};\n\t\t\t\t\t},\n\t\t\t\t),\n\t\t\t);\n\t\t}\n\n\t\treturn {\n\t\t\tobjects: results,\n\t\t};\n\t}\n\tasync getOwnedObjects(\n\t\toptions: Experimental_SuiClientTypes.GetOwnedObjectsOptions,\n\t): Promise<Experimental_SuiClientTypes.GetOwnedObjectsResponse> {\n\t\tconst response = await this.#client.liveDataService.listOwnedObjects({\n\t\t\towner: options.address,\n\t\t\tobjectType: options.type,\n\t\t\tpageToken: options.cursor ? fromBase64(options.cursor) : undefined,\n\t\t});\n\n\t\tconst objects = response.response.objects.map(\n\t\t\t(object): Experimental_SuiClientTypes.ObjectResponse => ({\n\t\t\t\tid: object.objectId!,\n\t\t\t\tversion: object.version?.toString()!,\n\t\t\t\tdigest: object.digest!,\n\t\t\t\t// TODO: List owned objects doesn't return content right now\n\t\t\t\tget content() {\n\t\t\t\t\treturn Promise.reject(\n\t\t\t\t\t\tnew Error('GRPC does not return object contents when listing owned objects'),\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\towner: mapOwner(object.owner)!,\n\t\t\t\ttype: object.objectType!,\n\t\t\t}),\n\t\t);\n\n\t\treturn {\n\t\t\tobjects,\n\t\t\tcursor: response.response.nextPageToken ? toBase64(response.response.nextPageToken) : null,\n\t\t\thasNextPage: response.response.nextPageToken !== undefined,\n\t\t};\n\t}\n\tasync getCoins(\n\t\toptions: Experimental_SuiClientTypes.GetCoinsOptions,\n\t): Promise<Experimental_SuiClientTypes.GetCoinsResponse> {\n\t\t// TODO: we need coins sorted by balance\n\t\tconst response = await this.#client.liveDataService.listOwnedObjects({\n\t\t\towner: options.address,\n\t\t\tobjectType: `0x2::coin::Coin<${options.coinType}>`,\n\t\t\tpageToken: options.cursor ? fromBase64(options.cursor) : undefined,\n\t\t});\n\n\t\treturn {\n\t\t\tobjects: response.response.objects.map(\n\t\t\t\t(object): Experimental_SuiClientTypes.CoinResponse => ({\n\t\t\t\t\tid: object.objectId!,\n\t\t\t\t\tversion: object.version?.toString()!,\n\t\t\t\t\tdigest: object.digest!,\n\t\t\t\t\t// TODO: List owned objects doesn't return content right now\n\t\t\t\t\tget content() {\n\t\t\t\t\t\treturn Promise.reject(\n\t\t\t\t\t\t\tnew Error('GRPC does not return object contents when listing owned objects'),\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t\towner: mapOwner(object.owner)!,\n\t\t\t\t\ttype: object.objectType!,\n\t\t\t\t\tbalance: object.balance?.toString()!,\n\t\t\t\t}),\n\t\t\t),\n\t\t\tcursor: response.response.nextPageToken ? toBase64(response.response.nextPageToken) : null,\n\t\t\thasNextPage: response.response.nextPageToken !== undefined,\n\t\t};\n\t}\n\n\tasync getBalance(\n\t\t_options: Experimental_SuiClientTypes.GetBalanceOptions,\n\t): Promise<Experimental_SuiClientTypes.GetBalanceResponse> {\n\t\t// TODO: GRPC doesn't expose balances yet\n\t\tthrow new Error('Not implemented');\n\t}\n\tasync getAllBalances(\n\t\t_options: Experimental_SuiClientTypes.GetAllBalancesOptions,\n\t): Promise<Experimental_SuiClientTypes.GetAllBalancesResponse> {\n\t\t// TODO: GRPC doesn't expose balances yet\n\t\tthrow new Error('Not implemented');\n\t}\n\tasync getTransaction(\n\t\toptions: Experimental_SuiClientTypes.GetTransactionOptions,\n\t): Promise<Experimental_SuiClientTypes.GetTransactionResponse> {\n\t\tconst { response } = await this.#client.ledgerService.getTransaction({\n\t\t\tdigest: options.digest,\n\t\t\treadMask: {\n\t\t\t\tpaths: ['digest', 'transaction', 'effects', 'signatures'],\n\t\t\t},\n\t\t});\n\n\t\treturn {\n\t\t\ttransaction: parseTransaction(response.transaction!),\n\t\t};\n\t}\n\tasync executeTransaction(\n\t\toptions: Experimental_SuiClientTypes.ExecuteTransactionOptions,\n\t): Promise<Experimental_SuiClientTypes.ExecuteTransactionResponse> {\n\t\tconst { response } = await this.#client.transactionExecutionService.executeTransaction({\n\t\t\ttransaction: {\n\t\t\t\tbcs: {\n\t\t\t\t\tvalue: options.transaction,\n\t\t\t\t},\n\t\t\t},\n\t\t\tsignatures: options.signatures.map((signature) => ({\n\t\t\t\tbcs: {\n\t\t\t\t\tvalue: fromBase64(signature),\n\t\t\t\t},\n\t\t\t\tsignature: {\n\t\t\t\t\toneofKind: undefined,\n\t\t\t\t},\n\t\t\t})),\n\t\t\treadMask: {\n\t\t\t\tpaths: [\n\t\t\t\t\t'transaction.digest',\n\t\t\t\t\t'transaction.transaction',\n\t\t\t\t\t'transaction.effects',\n\t\t\t\t\t'transaction.signatures',\n\t\t\t\t],\n\t\t\t},\n\t\t});\n\t\treturn {\n\t\t\ttransaction: parseTransaction(response.transaction!),\n\t\t};\n\t}\n\tasync dryRunTransaction(\n\t\toptions: Experimental_SuiClientTypes.DryRunTransactionOptions,\n\t): Promise<Experimental_SuiClientTypes.DryRunTransactionResponse> {\n\t\tconst { response } = await this.#client.liveDataService.simulateTransaction({\n\t\t\ttransaction: {\n\t\t\t\tbcs: {\n\t\t\t\t\tvalue: options.transaction,\n\t\t\t\t},\n\t\t\t},\n\t\t\treadMask: {\n\t\t\t\tpaths: [\n\t\t\t\t\t'transaction.digest',\n\t\t\t\t\t'transaction.transaction',\n\t\t\t\t\t'transaction.effects',\n\t\t\t\t\t'transaction.signatures',\n\t\t\t\t],\n\t\t\t},\n\t\t});\n\n\t\treturn {\n\t\t\ttransaction: parseTransaction(response.transaction!),\n\t\t};\n\t}\n\tasync getReferenceGasPrice(): Promise<Experimental_SuiClientTypes.GetReferenceGasPriceResponse> {\n\t\tconst response = await this.#client.ledgerService.getEpoch({});\n\n\t\treturn {\n\t\t\treferenceGasPrice: response.response.epoch?.referenceGasPrice?.toString()!,\n\t\t};\n\t}\n\n\tasync getDynamicFields(\n\t\toptions: Experimental_SuiClientTypes.GetDynamicFieldsOptions,\n\t): Promise<Experimental_SuiClientTypes.GetDynamicFieldsResponse> {\n\t\tconst response = await this.#client.liveDataService.listDynamicFields({\n\t\t\tparent: options.parentId,\n\t\t\tpageToken: options.cursor ? fromBase64(options.cursor) : undefined,\n\t\t});\n\n\t\treturn {\n\t\t\tdynamicFields: response.response.dynamicFields.map((field) => ({\n\t\t\t\tid: field.fieldId!,\n\t\t\t\tname: {\n\t\t\t\t\ttype: field.nameType!,\n\t\t\t\t\tbcs: field.nameValue!,\n\t\t\t\t},\n\t\t\t\ttype: field.dynamicObjectId\n\t\t\t\t\t? `0x2::dynamic_field::Field<0x2::dynamic_object_field::Wrapper<${field.nameType!}>,0x2::object::ID>`\n\t\t\t\t\t: `0x2::dynamic_field::Field<${field.nameType!},${field.valueType!}>`,\n\t\t\t})),\n\t\t\tcursor: response.response.nextPageToken ? toBase64(response.response.nextPageToken) : null,\n\t\t\thasNextPage: response.response.nextPageToken !== undefined,\n\t\t};\n\t}\n\n\tasync verifyZkLoginSignature(\n\t\toptions: Experimental_SuiClientTypes.VerifyZkLoginSignatureOptions,\n\t): Promise<Experimental_SuiClientTypes.ZkLoginVerifyResponse> {\n\t\tconst { response } = await this.#client.signatureVerificationService.verifySignature({\n\t\t\tmessage: {\n\t\t\t\tname: options.intentScope,\n\t\t\t\tvalue: fromBase64(options.bytes),\n\t\t\t},\n\t\t\tsignature: {\n\t\t\t\tbcs: {\n\t\t\t\t\tvalue: fromBase64(options.signature),\n\t\t\t\t},\n\t\t\t\tsignature: {\n\t\t\t\t\toneofKind: undefined,\n\t\t\t\t},\n\t\t\t},\n\t\t\tjwks: [],\n\t\t});\n\n\t\treturn {\n\t\t\tsuccess: response.isValid ?? false,\n\t\t\terrors: response.reason ? [response.reason] : [],\n\t\t};\n\t}\n\n\tresolveTransactionPlugin(): never {\n\t\tthrow new Error('GRPC client does not support transaction resolution yet');\n\t}\n}\n\nfunction mapOwner(owner: Owner | null | undefined): Experimental_SuiClientTypes.ObjectOwner | null {\n\tif (!owner) {\n\t\treturn null;\n\t}\n\tif (owner.kind === Owner_OwnerKind.IMMUTABLE) {\n\t\treturn {\n\t\t\t$kind: 'Immutable',\n\t\t\tImmutable: true,\n\t\t};\n\t}\n\tif (owner.kind === Owner_OwnerKind.ADDRESS) {\n\t\treturn {\n\t\t\tAddressOwner: owner.address!,\n\t\t\t$kind: 'AddressOwner',\n\t\t};\n\t}\n\tif (owner.kind === Owner_OwnerKind.OBJECT) {\n\t\treturn {\n\t\t\t$kind: 'ObjectOwner',\n\t\t\tObjectOwner: owner.address!,\n\t\t};\n\t}\n\n\tif (owner.kind === Owner_OwnerKind.SHARED) {\n\t\tif (owner.address) {\n\t\t\treturn {\n\t\t\t\t$kind: 'ConsensusAddressOwner',\n\t\t\t\tConsensusAddressOwner: {\n\t\t\t\t\towner: owner.address,\n\t\t\t\t\tstartVersion: owner.version?.toString()!,\n\t\t\t\t},\n\t\t\t};\n\t\t}\n\t\treturn {\n\t\t\t$kind: 'Shared',\n\t\t\tShared: {\n\t\t\t\tinitialSharedVersion: owner.version?.toString()!,\n\t\t\t},\n\t\t};\n\t}\n\n\tthrow new Error('Unknown owner kind');\n}\n\nfunction mapIdOperation(\n\toperation: ChangedObject_IdOperation | undefined,\n): null | 'Created' | 'Deleted' | 'Unknown' | 'None' {\n\tif (operation == null) {\n\t\treturn null;\n\t}\n\tswitch (operation) {\n\t\tcase ChangedObject_IdOperation.CREATED:\n\t\t\treturn 'Created';\n\t\tcase ChangedObject_IdOperation.DELETED:\n\t\t\treturn 'Deleted';\n\t\tcase ChangedObject_IdOperation.NONE:\n\t\tcase ChangedObject_IdOperation.ID_OPERATION_UNKNOWN:\n\t\t\treturn 'None';\n\t\tdefault:\n\t\t\toperation satisfies never;\n\t\t\treturn 'Unknown';\n\t}\n}\n\nfunction mapInputObjectState(\n\tstate: ChangedObject_InputObjectState | undefined,\n): null | 'Exists' | 'DoesNotExist' | 'Unknown' {\n\tif (state == null) {\n\t\treturn null;\n\t}\n\tswitch (state) {\n\t\tcase ChangedObject_InputObjectState.EXISTS:\n\t\t\treturn 'Exists';\n\t\tcase ChangedObject_InputObjectState.DOES_NOT_EXIST:\n\t\t\treturn 'DoesNotExist';\n\t\tcase ChangedObject_InputObjectState.UNKNOWN:\n\t\t\treturn 'Unknown';\n\t\tdefault:\n\t\t\tstate satisfies never;\n\t\t\treturn 'Unknown';\n\t}\n}\n\nfunction mapOutputObjectState(\n\tstate: ChangedObject_OutputObjectState | undefined,\n): null | 'ObjectWrite' | 'PackageWrite' | 'DoesNotExist' | 'Unknown' {\n\tif (state == null) {\n\t\treturn null;\n\t}\n\tswitch (state) {\n\t\tcase ChangedObject_OutputObjectState.OBJECT_WRITE:\n\t\t\treturn 'ObjectWrite';\n\t\tcase ChangedObject_OutputObjectState.PACKAGE_WRITE:\n\t\t\treturn 'PackageWrite';\n\t\tcase ChangedObject_OutputObjectState.DOES_NOT_EXIST:\n\t\t\treturn 'DoesNotExist';\n\t\tcase ChangedObject_OutputObjectState.UNKNOWN:\n\t\t\treturn 'Unknown';\n\t\tdefault:\n\t\t\tstate satisfies never;\n\t\t\treturn 'Unknown';\n\t}\n}\n\nfunction mapUnchangedSharedObjectKind(\n\tkind: UnchangedSharedObject_UnchangedSharedObjectKind | undefined,\n): null | Experimental_SuiClientTypes.UnchangedSharedObject['kind'] {\n\tif (kind == null) {\n\t\treturn null;\n\t}\n\tswitch (kind) {\n\t\tcase UnchangedSharedObject_UnchangedSharedObjectKind.UNCHANGED_SHARED_OBJECT_KIND_UNKNOWN:\n\t\t\treturn 'Unknown';\n\t\tcase UnchangedSharedObject_UnchangedSharedObjectKind.READ_ONLY_ROOT:\n\t\t\treturn 'ReadOnlyRoot';\n\t\tcase UnchangedSharedObject_UnchangedSharedObjectKind.MUTATE_CONSENSUS_STREAM_ENDED:\n\t\t\treturn 'MutateConsensusStreamEnded';\n\t\tcase UnchangedSharedObject_UnchangedSharedObjectKind.READ_CONSENSUS_STREAM_ENDED:\n\t\t\treturn 'ReadConsensusStreamEnded';\n\t\tcase UnchangedSharedObject_UnchangedSharedObjectKind.CANCELED:\n\t\t\treturn 'Cancelled';\n\t\tcase UnchangedSharedObject_UnchangedSharedObjectKind.PER_EPOCH_CONFIG:\n\t\t\treturn 'PerEpochConfig';\n\t\tdefault:\n\t\t\tkind satisfies never;\n\t\t\treturn 'Unknown';\n\t}\n}\n\nexport function parseTransactionEffects({\n\teffects,\n}: {\n\teffects: TransactionEffects | undefined;\n}): Experimental_SuiClientTypes.TransactionEffects | null {\n\tif (!effects) {\n\t\treturn null;\n\t}\n\n\tconst changedObjects = effects.changedObjects.map(\n\t\t(change): Experimental_SuiClientTypes.ChangedObject => {\n\t\t\treturn {\n\t\t\t\tid: change.objectId!,\n\t\t\t\tinputState: mapInputObjectState(change.inputState)!,\n\t\t\t\tinputVersion: change.inputVersion?.toString() ?? null,\n\t\t\t\tinputDigest: change.inputDigest ?? null,\n\t\t\t\tinputOwner: mapOwner(change.inputOwner),\n\t\t\t\toutputState: mapOutputObjectState(change.outputState)!,\n\t\t\t\toutputVersion: change.outputVersion?.toString() ?? null,\n\t\t\t\toutputDigest: change.outputDigest ?? null,\n\t\t\t\toutputOwner: mapOwner(change.outputOwner),\n\t\t\t\tidOperation: mapIdOperation(change.idOperation)!,\n\t\t\t};\n\t\t},\n\t);\n\n\treturn {\n\t\tbcs: effects.bcs?.value!,\n\t\tdigest: effects.digest!,\n\t\tversion: 2,\n\t\tstatus: effects.status?.success\n\t\t\t? {\n\t\t\t\t\tsuccess: true,\n\t\t\t\t\terror: null,\n\t\t\t\t}\n\t\t\t: {\n\t\t\t\t\tsuccess: false,\n\t\t\t\t\t// TODO: parse errors properly\n\t\t\t\t\terror: JSON.stringify(effects.status?.error),\n\t\t\t\t},\n\t\tgasUsed: {\n\t\t\tcomputationCost: effects.gasUsed?.computationCost?.toString()!,\n\t\t\tstorageCost: effects.gasUsed?.storageCost?.toString()!,\n\t\t\tstorageRebate: effects.gasUsed?.storageRebate?.toString()!,\n\t\t\tnonRefundableStorageFee: effects.gasUsed?.nonRefundableStorageFee?.toString()!,\n\t\t},\n\t\ttransactionDigest: effects.transactionDigest!,\n\t\tgasObject: {\n\t\t\tid: effects.gasObject?.objectId!,\n\t\t\tinputState: mapInputObjectState(effects.gasObject?.inputState)!,\n\t\t\tinputVersion: effects.gasObject?.inputVersion?.toString() ?? null,\n\t\t\tinputDigest: effects.gasObject?.inputDigest ?? null,\n\t\t\tinputOwner: mapOwner(effects.gasObject?.inputOwner),\n\t\t\toutputState: mapOutputObjectState(effects.gasObject?.outputState)!,\n\t\t\toutputVersion: effects.gasObject?.outputVersion?.toString() ?? null,\n\t\t\toutputDigest: effects.gasObject?.outputDigest ?? null,\n\t\t\toutputOwner: mapOwner(effects.gasObject?.outputOwner),\n\t\t\tidOperation: mapIdOperation(effects.gasObject?.idOperation)!,\n\t\t},\n\t\teventsDigest: effects.eventsDigest ?? null,\n\t\tdependencies: effects.dependencies,\n\t\tlamportVersion: effects.lamportVersion?.toString() ?? null,\n\t\tchangedObjects,\n\t\tunchangedSharedObjects: effects.unchangedSharedObjects.map(\n\t\t\t(object): Experimental_SuiClientTypes.UnchangedSharedObject => {\n\t\t\t\treturn {\n\t\t\t\t\tkind: mapUnchangedSharedObjectKind(object.kind)!,\n\t\t\t\t\t// TODO: we are inconsistent about id vs objectId\n\t\t\t\t\tobjectId: object.objectId!,\n\t\t\t\t\tversion: object.version?.toString() ?? null,\n\t\t\t\t\tdigest: object.digest ?? null,\n\t\t\t\t};\n\t\t\t},\n\t\t),\n\t\tauxiliaryDataDigest: effects.auxiliaryDataDigest ?? null,\n\t};\n}\n\nfunction parseTransaction(\n\ttransaction: ExecutedTransaction,\n): Experimental_SuiClientTypes.TransactionResponse {\n\tconst parsedTx = bcs.SenderSignedData.parse(transaction.transaction?.bcs?.value!)[0];\n\tconst bytes = bcs.TransactionData.serialize(parsedTx.intentMessage.value).toBytes();\n\tconst data = TransactionDataBuilder.restore({\n\t\tversion: 2,\n\t\tsender: parsedTx.intentMessage.value.V1.sender,\n\t\texpiration: parsedTx.intentMessage.value.V1.expiration,\n\t\tgasData: parsedTx.intentMessage.value.V1.gasData,\n\t\tinputs: parsedTx.intentMessage.value.V1.kind.ProgrammableTransaction!.inputs,\n\t\tcommands: parsedTx.intentMessage.value.V1.kind.ProgrammableTransaction!.commands,\n\t});\n\n\tconst objectTypes: Record<string, string> = {};\n\ttransaction.inputObjects.forEach((object) => {\n\t\tif (object.objectId && object.objectType) {\n\t\t\tobjectTypes[object.objectId] = object.objectType;\n\t\t}\n\t});\n\n\ttransaction.outputObjects.forEach((object) => {\n\t\tif (object.objectId && object.objectType) {\n\t\t\tobjectTypes[object.objectId] = object.objectType;\n\t\t}\n\t});\n\n\tconst effects = parseTransactionEffects({\n\t\teffects: transaction.effects,\n\t})!;\n\n\treturn {\n\t\tdigest: transaction.digest!,\n\t\tepoch: transaction.effects?.epoch?.toString() ?? null,\n\t\teffects,\n\t\tobjectTypes: Promise.resolve(objectTypes),\n\t\ttransaction: {\n\t\t\t...data,\n\t\t\tbcs: bytes,\n\t\t},\n\t\tsignatures: parsedTx.txSignatures,\n\t};\n}\n"],
  "mappings": "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",
  "names": []
}
